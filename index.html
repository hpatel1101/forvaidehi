<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ðŸ’˜</title>

<style>
  html,body{height:100%}
  body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
    background:#fff;
    display:grid;
    place-items:center;
  }

  .container{
    width:min(520px, 92vw);
    text-align:center;
    padding:22px;
  }

  .btnStart{
    border:none;
    background:#111;
    color:#fff;
    font-weight:700;
    font-size:18px;
    padding:14px 18px;
    border-radius:14px;
  }
  .btnStart:active{ transform:scale(.98); }

  .frame{
    margin:18px auto 0;
    width:min(420px, 90vw);
    aspect-ratio: 4 / 5;
    border-radius:22px;
    overflow:hidden;
    background:#f3f3f3;
    box-shadow:0 18px 50px rgba(0,0,0,.12);
    position:relative;
  }

  .photo{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    opacity:0;
    transform:scale(1.02);
    transition: opacity 900ms ease, transform 1200ms ease;
  }
  .photo.show{
    opacity:1;
    transform:scale(1);
  }
  .photo.fadeOut{
    opacity:0;
    transform:scale(1.02);
  }

  .final{
    display:none;
    margin-top:18px;
  }
  .question{
    margin:18px 0 14px;
    font-size:34px;
    line-height:1.1;
    font-weight:800;
    letter-spacing:-.4px;
    color:#111;
  }

  .me{
    width:min(320px, 80vw);
    border-radius:22px;
    box-shadow:0 18px 50px rgba(0,0,0,.12);
    margin:10px auto 18px;
    display:block;
  }

  .row{
    display:flex;
    gap:12px;
    justify-content:center;
  }
  .choice{
    border:none;
    border-radius:14px;
    padding:14px 18px;
    font-size:18px;
    font-weight:800;
    min-width:120px;
  }
  .yes{ background:#16a34a; color:#fff; }
  .no{ background:#ef4444; color:#fff; }

  .result{
    margin-top:14px;
    font-size:18px;
    font-weight:700;
    color:#111;
    min-height:24px;
  }

  .hint{
    margin-top:10px;
    font-size:13px;
    color:#666;
  }
</style>
</head>

<body>
  <div class="container">
    <button id="start" class="btnStart">Hardik wants you to click here ðŸ’˜</button>
    <div class="hint" id="hint">make sure your images are named pic1.jpg â€¦ pic5.jpg and me.jpg</div>

    <div class="frame" id="frame" aria-label="slideshow frame">
      <img id="img" class="photo" alt="memory">
    </div>

    <div class="final" id="final">
      <div class="question">Will you be my Valentine?</div>
      <img class="me" src="me.jpg" alt="Hardik">

      <div class="row">
        <button id="yesBtn" class="choice yes">Yes</button>
        <button id="noBtn" class="choice no">No</button>
      </div>

      <div class="result" id="result"></div>
    </div>
  </div>

<script>
  const pics = ["pic1.jpg","pic2.jpg","pic3.jpg","pic4.jpg","pic5.jpg"];
  const img = document.getElementById("img");
  const startBtn = document.getElementById("start");
  const hint = document.getElementById("hint");
  const final = document.getElementById("final");
  const result = document.getElementById("result");

  const yesBtn = document.getElementById("yesBtn");
  const noBtn  = document.getElementById("noBtn");

  // timings (ms): fade in/out + pause
  const fadeIn  = 900;
  const hold    = 1200;
  const fadeOut = 900;

  function preload(list){
    return Promise.all(list.map(src => new Promise(res=>{
      const im = new Image();
      im.onload = () => res(true);
      im.onerror = () => res(true);
      im.src = src;
    })));
  }

  function sleep(ms){ return new Promise(r => setTimeout(r, ms)); }

  async function play(){
    startBtn.disabled = true;
    startBtn.textContent = "Loadingâ€¦";
    hint.style.display = "none";

    await preload([...pics, "me.jpg"]);

    startBtn.style.display = "none";

    for(const src of pics){
      img.src = src;

      // fade in
      img.classList.remove("fadeOut");
      await sleep(40);
      img.classList.add("show");
      await sleep(fadeIn + hold);

      // fade out
      img.classList.add("fadeOut");
      img.classList.remove("show");
      await sleep(fadeOut);
    }

    // final screen
    final.style.display = "block";
  }

  startBtn.addEventListener("click", play);

  function accept(){
    result.textContent = "Yay ðŸ’˜ See you on Valentineâ€™s ðŸ™‚";
    // optionally disable after
    yesBtn.disabled = true;
    noBtn.disabled = true;
    noBtn.textContent = "Yes";
    noBtn.className = "choice yes";
  }

  yesBtn.addEventListener("click", accept);

  // â€œNoâ€ becomes â€œYesâ€
  noBtn.addEventListener("click", () => {
    noBtn.textContent = "Yes";
    noBtn.className = "choice yes";
    accept();
  });
</script>
</body>
</html>
